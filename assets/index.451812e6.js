import{c as Oe,i as ye,j as Te,k as De,S as Se,l as He,_ as Re,m as Le,n as Ne,o as Me,a as de,p as Pe,s as Ve}from"./common.a40f3e2f.js";import{l as We}from"./shared/index/notices.860d622b.js";import{l as $e}from"./shared/index/processes.b42f5246.js";import{d as Ge,ab as Ue,r as ae,g as Y,_ as Fe,o as P,c as q,a as r,A as D,z as ue,s as ve,C as $,F as Xe,y as Ke,w as Ye,a2 as qe,a4 as Be,U as y,t as _e}from"./vendor.5ec4ebb3.js";var me={};Object.defineProperty(me,"__esModule",{value:!0});var Je=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],pe=["address","article","aside","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","tfoot","thead","tr","ul","video"],x=["audio","math","svg","video"],G=10,Qe=33,Ze=34,je=38,ze=39,B=47,te=59,g=60,Ie=61,se=62,xe=/[<&\n\ud800-\udbff]/,ge=/[<&\ud800-\udbff]/,eo=/\s+/g;function oo(e,a,s){return s===void 0&&(s={}),e?(e=e.toString(),s.html?so(e,a,s):to(e,a,s)):""}var ao=me.default=oo;function so(e,a,s){for(var l=s.imageWeight,_=l===void 0?2:l,b=s.indicator,E=b===void 0?"\u2026":b,w=s.maxLines,h=w===void 0?1/0:w,c=s.stripTags,C=c===void 0?!1:c,t=E.length,u=1,m=typeof C=="boolean"?function(){return C}:function(R){return C.includes(R)},n=[],p=function(R){for(var I;I=n.pop(),I!==void 0;)m(I)||(R+="</"+I+">");return R},o=0,A=-1,J=e.length;o<J;o++){var L=o?e.slice(o):e,N=lo(n),W=A>-1||N?ge:xe,T=L.search(W),k=T>-1?T:L.length;if(A===-1){if(N){var f=co(k===L.length?L:L.slice(0,T));if(m(n[n.length-1])){var O=o>0&&!V(e.charCodeAt(o-1)),S=!V(e.charCodeAt(o+k));f.length>0?f=(O?" ":"")+f+(S?" ":""):O&&S&&(f=" "),e=e.slice(0,o)+f+e.slice(o+k),k=f.length}if(t+=f.length,t>a)break}else if(t+=k,t>a){o=Math.max(o+k-t+a,0);break}}if(o+=k,T===-1)break;var v=e.charCodeAt(o);if(v===g){var H=e.charCodeAt(o+1),Q=H===Qe;if(Q&&e.substr(o+2,2)==="--"){var re=e.indexOf("-->",o+4)+3;o=re-1}else if(Q&&e.substr(o+2,7)==="[CDATA["){var Ae=e.indexOf("]]>",o+9)+3;o=Ae-1}else{var ee=H===B;if(t===a&&!ee){t++;break}for(var Z=0,d=o,U=!1;;){if(d++,d>=J)throw new Error("Invalid HTML: "+e);var F=e.charCodeAt(d);if(U)Z?F===Z&&(U=!1):V(F)?U=!1:F===se&&(U=!1,d--);else if(F===Ie){for(;V(e.charCodeAt(d+1));)d++;U=!0;var oe=e.charCodeAt(d+1);oe===Ze||oe===ze?(Z=oe,d++):Z=0}else if(F===se){var le=o+(ee?2:1),we=Math.min(ro(e,le),d),i=e.slice(le,we).toLowerCase();i.charCodeAt(i.length-1)===B&&(i=i.slice(0,i.length-1));var j=m(i);if(ee){var Ce=n.pop();if(Ce!==i)throw new Error("Invalid HTML: "+e);if(x.includes(i)&&!x.some(function(R){return n.includes(R)})){if(j)o=A,A=-1;else if(A=-1,t+=_,t>a)break}var ke=pe.includes(i);if(ke&&A===-1&&!j&&(u++,u>h)){n.push(i);break}}else if(Je.includes(i)||e.charCodeAt(d-1)===B){if(!j){if(i==="br"){if(u++,u>h)break}else if(i==="img"&&(t+=_,t>a))break}}else x.some(function(R){return n.includes(R)})||x.includes(i)&&(A=o),n.push(i);j&&A===-1?(e=e.slice(0,o)+e.slice(d+1),o--):o=d;break}}if(t>a||u>h)break}}else if(v===je){for(var d=o+1,ce=!0;;){var ie=e.charCodeAt(d);if(be(ie))d++;else{if(ie===te)break;ce=!1;break}}if(A===-1&&(t++,t>a))break;ce&&(o=d)}else if(v===G){if(t++,t>a||(u++,u>h))break}else{if(A===-1&&(t++,t>a))break;if((v&64512)===55296){var H=e.charCodeAt(o+1);(H&64512)===56320&&o++}}}if(t>a){var X=io(e,o);if(E){for(var M=o+X.length;e.charCodeAt(M)===g&&e.charCodeAt(M+1)===B;){var ne=e.indexOf(">",M+2)+1;if(ne)M=ne;else break}M&&(M===e.length||he(e,M))&&(o+=X.length,X=e.charAt(o))}for(;X==="<"&&e.charCodeAt(o+1)===B;){var i=n.pop();if(!i)break;var z=e.indexOf(">",o+2);if(z===-1||e.slice(o+2,z).trim()!==i)throw new Error("Invalid HTML: "+e);m(i)?e=e.slice(0,o)+e.slice(z+1):o=z+1,X=e.charAt(o)}if(o<e.length){if(!s.breakWords)for(var K=o-E.length;K>=0;K--){var v=e.charCodeAt(K);if(v===se||v===te)break;if(v===G||v===g){o=K;break}else if(V(v)){o=K+(E?1:0);break}}var fe=e.slice(0,o);return he(e,o)||(fe+=E),p(fe)}}else if(u>h)return p(e.slice(0,o));return e}function to(e,a,s){for(var l=s.indicator,_=l===void 0?"\u2026":l,b=s.maxLines,E=b===void 0?1/0:b,w=_.length,h=1,c=0,C=e.length;c<C&&(w++,!(w>a));c++){var t=e.charCodeAt(c);if(t===G){if(h++,h>E)break}else if((t&64512)===55296){var u=e.charCodeAt(c+1);(u&64512)===56320&&c++}}if(w>a){var m=Ee(e,c);if(_){var n=c+m.length;if(n===e.length)return e;if(e.charCodeAt(n)===G)return e.slice(0,c+m.length)}if(!s.breakWords)for(var p=c-_.length;p>=0;p--){var t=e.charCodeAt(p);if(t===G){c=p,m=`
`;break}else if(V(t)){c=p+(_?1:0);break}}return e.slice(0,c)+(m===`
`?"":_)}else if(h>E)return e.slice(0,c);return e}function ro(e,a){for(var s=e.length,l=a;l<s;l++)if(V(e.charCodeAt(l)))return l;return s}function be(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function he(e,a){var s=e.charCodeAt(a);if(s===G)return!0;if(s===g){var l="("+pe.join("|")+"|br)",_=new RegExp("^<"+l+`[	
\f\r ]*/?>`,"i");return _.test(e.slice(a))}else return!1}function V(e){return e===9||e===10||e===12||e===13||e===32}function lo(e){for(var a=e.length-1;a>=0;a--){var s=e[a];if(s==="li"||s==="td")return!1;if(s==="ol"||s==="table"||s==="ul")return!0}return!1}function co(e){return e.trim().replace(eo," ")}function Ee(e,a){var s=e.charCodeAt(a);if((s&64512)===55296){var l=e.charCodeAt(a+1);if((l&64512)===56320)return String.fromCharCode(s,l)}return String.fromCharCode(s)}function io(e,a){var s=Ee(e,a);if(s==="&")for(;;){a++;var l=e.charCodeAt(a);if(be(l))s+=String.fromCharCode(l);else if(l===te){s+=String.fromCharCode(l);break}else break}return s}const no=Ge({components:{Modal:Oe,HeaderEntityData:ye,ProtocolConsult:Te,ProcessStages:De,SkeletonCardNotices:Se,SkeletonCardProcesses:He,XBtn:Re,XCard:Le,XCardSection:Ne},setup(){const e=Ue([]),a=ae(!1),s=ae(!1),l=ae("SHOW_VIDEO_INTRO"),_=Me(),{data:b,loading:E,loader:w}=de(),{loading:h,loader:c,data:C}=de([]),t=Y(()=>{const N=[],W=[];C.value.forEach(f=>{f.stages.some(O=>O.status==="OPEN")?N.push(f):W.push(f)});const T=N.map(f=>{const{stages:O}=f,S={...f};return O.sort((v,H)=>{const Q=new Date(v.startAt);return+new Date(H.startAt)-+Q}),S.startAt=O[0].startAt,S}),k=W.map(f=>{const{stages:O}=f,S={...f};return O.sort((v,H)=>+new Date(H.startAt)-+new Date(v.startAt)),S.startAt=O[0].startAt,S});return T.sortBy("startAt").reverse(),k.sortBy("startAt").reverse(),T.concat(k)}),u=Y(()=>b.value.text?ao(b.value.text,193,{html:!0,maxLines:4}):""),m=Y(()=>!!b.value&&!!b.value.id),n=Y(()=>_.getConfig),p=Y(()=>n.value.show_how_to_do_video);function o(){s.value&&Ve(l.value,"1",365),a.value=!1}async function A(){w(We)}async function J(){c($e).then(N=>{const W=N.filter(T=>T.stages.length);C.value=W})}function L(){A(),J()}return L(),Pe(l.value)!=="1"&&p.value&&(a.value=!0),{vacancies:e,loadingNotices:E,loadingProcesses:h,showVideoTutorial:a,dontShowVideoTutorial:s,cookieName:l,notice:b,processes:t,truncateText:u,hasNotice:m,close:o,getConfig:n,showHowToDoVideo:p}}}),fo={class:"row mt-3"},uo={class:"row mt-3"},vo={class:"col-12 col-md-10 offset-md-1"},_o={key:1,"data-test":"notice-block",class:"row mt-4"},ho={class:"col-12 col-md-10 offset-md-1"},mo=r("h5",{class:"text-h5 text-primary"},"Avisos",-1),po={class:"row"},bo=["innerHTML"],Eo={class:"row"},Ao={class:"col-11 col-lg-2 font-hind offset-lg-10 pr-0 pr-md-4 text-right"},wo=Be("Leia mais"),Co={key:3,class:"row mt-3"},ko={class:"container-sm col-12 col-md-10 offset-md-1 mt-4"},Oo=r("div",{class:"row"},[r("div",{class:"col"},[r("h2",{class:"title mb-3"},"Inscri\xE7\xF5es")])],-1),yo={class:"row"},To={class:"col-12 mt-3 mt-sm-2"},Do={class:"m-0"},So=r("div",{class:"row"},[r("div",{class:"col-12 col-lg-8 offset-lg-2 text-center"},[r("span",null," Ol\xE1! Voc\xEA sabe como realizar uma solicita\xE7\xE3o de matr\xEDcula? Caso ainda n\xE3o saiba, assista o v\xEDdeo abaixo e veja como realizar a inscri\xE7\xE3o. ")])],-1),Ho={class:"row mt-4"},Ro={class:"col-12 col-lg-8 offset-lg-2 embed-responsive embed-responsive-16by9"},Lo=["src"],No={class:"d-flex flex-md-row flex-column justify-content-center"},Mo={class:"d-flex align-items-center justify-content-center justify-content-lg-start"},Po={class:"custom-control custom-checkbox"},Vo=r("label",{for:"showVideoTutorial",class:"custom-control-label font-weight-bold"}," N\xE3o mostrar mais esta mensagem ",-1),Wo={class:"d-flex align-items-center ml-0 ml-lg-3 mt-3 mt-lg-0"};function $o(e,a,s,l,_,b){const E=y("header-entity-data"),w=y("protocol-consult"),h=y("skeleton-card-notices"),c=y("x-card-section"),C=y("router-link"),t=y("x-card"),u=y("skeleton-card-processes"),m=y("process-stages"),n=y("x-btn"),p=y("modal");return P(),q("div",null,[r("div",fo,[D(E)]),r("div",uo,[r("div",vo,[D(w,{title:"Consulta de inscri\xE7\xE3o"})])]),e.loadingNotices?(P(),ue(h,{key:0})):ve("",!0),e.hasNotice&&!e.loadingNotices?(P(),q("div",_o,[r("div",ho,[D(t,{bordered:""},{default:$(()=>[D(c,{class:"pl-4 pr-4 pt-3 p-0"},{default:$(()=>[mo]),_:1}),D(c,{class:"pl-4 pr-4 pb-3 p-0"},{default:$(()=>[r("div",po,[r("div",{class:"col-12 text-break overfflow-hidden",innerHTML:e.truncateText},null,8,bo)]),r("div",Eo,[r("div",Ao,[D(C,{to:"/avisos"},{default:$(()=>[wo]),_:1})])])]),_:1})]),_:1})])])):ve("",!0),e.loadingProcesses?(P(),ue(u,{key:2})):(P(),q("div",Co,[r("div",ko,[Oo,(P(!0),q(Xe,null,Ke(e.processes,o=>(P(),q("div",{key:o.id,"data-test":"process-block"},[r("div",yo,[r("div",To,[r("h4",Do,_e(o.name)+" ("+_e(o.schoolYear.year)+") ",1)])]),D(m,{process:o,class:"mb-3"},null,8,["process"])]))),128))])])),D(p,{modelValue:e.showVideoTutorial,"onUpdate:modelValue":a[1]||(a[1]=o=>e.showVideoTutorial=o),"data-test":"modal-intro",title:"Boas Vindas!",large:!0},{body:$(()=>[So,r("div",Ho,[r("div",Ro,[r("iframe",{class:"embed-responsive-item",src:e.getConfig.video_intro_url,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},`
            `,8,Lo)])])]),footer:$(()=>[r("div",No,[r("div",Mo,[r("div",Po,[Ye(r("input",{id:"showVideoTutorial","onUpdate:modelValue":a[0]||(a[0]=o=>e.dontShowVideoTutorial=o),type:"checkbox",class:"custom-control-input"},null,512),[[qe,e.dontShowVideoTutorial]]),Vo])]),r("div",Wo,[D(n,{label:"Entendi",class:"w-100",color:"primary","no-caps":"","no-wrap":"",onClick:e.close},null,8,["onClick"])])])]),_:1},8,["modelValue"])])}const Ko=Fe(no,[["render",$o]]);export{Ko as default};
