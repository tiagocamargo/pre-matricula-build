import{a as f,i as N,q as b,b as S,e as $,_ as A,r as w}from"./common.7bcb253c.js";import{l as p,r as k,p as j}from"./shared/index/notices.713c45aa.js";import{d as v,o as i,c,a as e,A as r,p as t,s as u,r as C,z as M}from"./vendor.f7b4225f.js";const T={class:"row mt-3"},V={key:0,class:"row"},B={class:"col-12 col-lg-10 offset-lg-1"},D=e("h2",{class:"title-find-school"},"Avisos",-1),F={class:"mt-4"},L=["innerHTML"],O=v({__name:"NoticeShow",setup(x){const{data:a,loader:o}=f({id:null,text:null});return o(p).then(l=>{l||(a.value={id:null,text:null})}),(l,_)=>(i(),c("div",null,[e("div",T,[r(N)]),t(a)?(i(),c("div",V,[e("div",B,[D,e("div",F,[e("p",{"data-test":"notice-section",innerHTML:t(a).text||"Nenhum aviso cadastrado"},null,8,L)])])])):u("",!0)]))}}),W=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"})),z={key:1},H={class:"row mt-5"},P={class:"col-12 col-lg-10 offset-lg-1"},U=e("h2",{class:"title-find-school"},"Avisos",-1),X=e("div",{class:"mt-4"},[e("p",{class:"font-hind text-justify"}," Ao inserir conte\xFAdo no editor de texto abaixo a mensagem ser\xE1 apresentada na tela inicial de incri\xE7\xF5es para os respons\xE1veis na se\xE7\xE3o Avisos, respeitando a formata\xE7\xE3o definida. Use o espa\xE7o para inserir orienta\xE7\xF5es aos respons\xE1veis no processo de pr\xE9-matr\xEDcula do munic\xEDpio. ")],-1),q={class:"mt-4"},I={class:"mt-2 col-12 col-lg-10 offset-lg-1 p-0"},R={class:"d-flex justify-content-end"},G=v({__name:"NoticeEdit",setup(x){const{dialog:a}=b(),{data:o,loading:l,loader:_}=f({id:null,text:null}),{loader:m,loading:d}=S(C({title:"Erro",description:"N\xE3o foi poss\xEDvel salvar o aviso. Por favor, entre em contato com o suporte."})),h=()=>{const{id:s,text:n}=o.value;!s&&!n||(o.value.text?g():E())},E=()=>{const{id:s}=o.value;m(()=>k({id:s})).then(()=>{a({title:"Sucesso!",titleClass:"success",description:"Aviso removido com sucesso!"}),o.value.id=null}).finally(()=>{d.value=!1})},g=()=>{m(()=>j(o.value)).then(({id:s})=>{a({title:"Sucesso!",titleClass:"success",description:"Aviso salvo com sucesso!"}),o.value.id=s}).finally(()=>{d.value=!1})};return _(p).then(s=>{s||(o.value={id:null,text:null})}),(s,n)=>(i(),c("div",null,[t(l)?(i(),M(w,{key:0})):u("",!0),!t(l)&&t(o)?(i(),c("div",z,[e("div",H,[e("div",P,[U,X,e("div",q,[r($,{modelValue:t(o).text,"onUpdate:modelValue":n[0]||(n[0]=y=>t(o).text=y),"container-class":"col-12 p-0",name:"text",type:"RICH_TEXT"},null,8,["modelValue"])])])]),e("div",I,[e("div",R,[r(A,{loading:t(d),label:"Salvar",color:"primary",class:"w-100 col-12 col-md-2","no-caps":"","no-wrap":"","loading-normal":"",onClick:h},null,8,["loading"])])])])):u("",!0)]))}}),Y=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{W as N,Y as a};
